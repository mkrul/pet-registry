<div id="tip_form_<%= report.id %>"
     class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6"
     data-controller="tip-form">

  <% if errors.any? %>
    <div class="mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md">
      <ul class="list-disc list-inside text-sm text-red-700 dark:text-red-300">
        <% errors.each do |error| %>
          <li><%= error %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with url: submit_tip_report_path(report),
                method: :post,
                data: {
                  turbo_stream: true,
                  tip_form_target: "form"
                } do |f| %>
    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">Submit a Tip</h3>

    <div class="mb-4">
      <label for="tip_message" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Message
      </label>
      <textarea name="message"
                id="tip_message"
                rows="4"
                class="w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 resize-y"
                placeholder="Share any information you have about this pet..."></textarea>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
      <div>
        <label for="tip_intersection" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Intersection/Address
        </label>
        <input type="text"
               name="intersection"
               id="tip_intersection"
               class="w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
               placeholder="e.g., Main St & 1st Ave">
      </div>

      <div>
        <label for="tip_area" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          City/Area
        </label>
        <input type="text"
               name="area"
               id="tip_area"
               class="w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
               placeholder="City name">
      </div>

      <div>
        <label for="tip_state" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          State
        </label>
        <input type="text"
               name="state"
               id="tip_state"
               class="w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
               placeholder="State">
      </div>

      <div>
        <label for="tip_country" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Country
        </label>
        <input type="text"
               name="country"
               id="tip_country"
               class="w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
               placeholder="Country"
               value="United States">
      </div>
    </div>

    <input type="hidden" name="latitude" id="tip_latitude" data-tip-form-target="latitude">
    <input type="hidden" name="longitude" id="tip_longitude" data-tip-form-target="longitude">

    <div class="flex gap-3">
      <button type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md text-sm font-medium transition-colors"
              data-tip-form-target="submitButton">
        Submit Tip
      </button>
      <button type="button"
              class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-6 py-2 rounded-md text-sm font-medium transition-colors"
              data-action="click->tip-form#cancel">
        Cancel
      </button>
    </div>
  <% end %>
</div>
