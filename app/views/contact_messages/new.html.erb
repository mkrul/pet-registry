<% content_for :title, "Contact Us - Pet Registry" %>

<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-6 md:p-8">
      <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2">Contact Us</h1>
      <p class="text-gray-600 dark:text-gray-400 mb-6">
        Have a question or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.
      </p>

      <%= form_with model: @contact_form,
                    url: contact_path,
                    method: :post,
                    class: "space-y-6",
                    data: { controller: "form-validation form-submit" } do |f| %>

        <% if @contact_form.errors.any? %>
          <div class="p-4 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md">
            <ul class="list-disc list-inside text-sm text-red-700 dark:text-red-300">
              <% @contact_form.errors.full_messages.each do |error| %>
                <li><%= error %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div>
          <%= f.label :name, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" do %>
            Name <span class="text-red-500">*</span>
          <% end %>
          <%= f.text_field :name,
                           class: "w-full px-3 py-2 border rounded-md text-sm bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 #{@contact_form.errors[:name].any? ? 'border-red-500 dark:border-red-500' : ''}",
                           placeholder: "Your name",
                           required: true %>
          <% if @contact_form.errors[:name].any? %>
            <p class="mt-1 text-sm text-red-600 dark:text-red-400"><%= @contact_form.errors[:name].first %></p>
          <% end %>
        </div>

        <div>
          <%= f.label :email, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" do %>
            Email <span class="text-red-500">*</span>
          <% end %>
          <%= f.email_field :email,
                            class: "w-full px-3 py-2 border rounded-md text-sm bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 #{@contact_form.errors[:email].any? ? 'border-red-500 dark:border-red-500' : ''}",
                            placeholder: "your.email@example.com",
                            required: true %>
          <% if @contact_form.errors[:email].any? %>
            <p class="mt-1 text-sm text-red-600 dark:text-red-400"><%= @contact_form.errors[:email].first %></p>
          <% end %>
        </div>

        <div>
          <%= f.label :subject, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" %>
          <%= f.text_field :subject,
                           class: "w-full px-3 py-2 border rounded-md text-sm bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400",
                           placeholder: "Subject of your message" %>
        </div>

        <div>
          <%= f.label :message, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" do %>
            Message <span class="text-red-500">*</span>
          <% end %>
          <%= f.text_area :message,
                          rows: 6,
                          class: "w-full px-3 py-2 border rounded-md text-sm bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 resize-y #{@contact_form.errors[:message].any? ? 'border-red-500 dark:border-red-500' : ''}",
                          placeholder: "Your message...",
                          required: true %>
          <% if @contact_form.errors[:message].any? %>
            <p class="mt-1 text-sm text-red-600 dark:text-red-400"><%= @contact_form.errors[:message].first %></p>
          <% end %>
        </div>

        <div class="flex justify-end">
          <%= f.submit "Send Message",
                       class: "bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-6 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer",
                       data: { form_submit_target: "button", disable_with: "Sending..." } %>
        </div>
      <% end %>
    </div>
  </div>
</div>
